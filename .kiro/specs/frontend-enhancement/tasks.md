# 实现计划

- [x] 1. 项目配置和依赖安装



  - [x] 1.1 安装新依赖（Monaco Editor、PDF.js、highlight.js、fast-check）

    - 更新package.json添加@monaco-editor/vue、pdfjs-dist、highlight.js、fast-check
    - 配置Vite以支持Monaco Editor的worker
    - _需求: 3.1, 4.1, 5.1_


  - [x] 1.2 创建CSS变量和全局样式

    - 在style.css中添加配色方案、间距系统、圆角系统的CSS变量
    - 添加全局动画和过渡效果
    - _需求: 1.1, 1.2_

- [x] 2. 基础布局组件重构



  - [x] 2.1 创建AppHeader组件

    - 实现渐变背景头部
    - 添加响应式菜单切换按钮
    - _需求: 1.4, 7.2_


  - [x] 2.2 重构App.vue布局结构

    - 实现响应式侧边栏折叠逻辑
    - 添加视口宽度监听
    - _需求: 7.1, 7.3_

  - [ ]* 2.3 编写响应式布局属性测试
    - **属性7: 响应式布局断点**
    - **验证: 需求 7.1**



- [x] 3. 目录视图功能实现

  - [x] 3.1 创建Breadcrumb面包屑组件

    - 解析路径生成面包屑项
    - 实现点击导航功能
    - _需求: 2.5_


  - [x] 3.2 创建FileCard文件卡片组件

    - 实现文件/目录卡片样式
    - 显示图标、名称、大小、修改日期
    - 添加hover效果和选中状态
    - _需求: 2.2_


  - [x] 3.3 创建DirectoryView目录视图组件

    - 实现网格布局展示文件列表
    - 集成Breadcrumb和FileCard
    - 处理文件/目录点击事件
    - _需求: 2.1, 2.3, 2.4_

  - [ ]* 3.4 编写目录导航属性测试
    - **属性1: 目录导航一致性**
    - **验证: 需求 2.1, 2.4**

  - [ ]* 3.5 编写目录视图信息完整性属性测试
    - **属性2: 目录视图信息完整性**
    - **验证: 需求 2.2, 2.5**


- [ ] 4. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户。



- [ ] 5. 代码编辑器实现
  - [x] 5.1 创建CodeEditor组件

    - 集成Monaco Editor
    - 配置语法高亮、行号、括号匹配
    - 实现保存功能和快捷键
    - _需求: 4.1, 4.2, 4.3, 4.4, 4.5_


  - [ ] 5.2 创建语言映射工具函数
    - 根据文件扩展名返回Monaco语言标识
    - 支持常见编程语言
    - _需求: 4.1_

  - [ ]* 5.3 编写代码编辑器语言检测属性测试
    - **属性5: 代码编辑器语言检测**
    - **验证: 需求 4.1**



- [x] 6. Markdown编辑器实现

  - [x] 6.1 创建MarkdownEditor组件

    - 实现分屏布局（编辑器+预览）
    - 集成marked和highlight.js
    - 实现实时预览更新
    - _需求: 3.1, 3.2, 3.3_


  - [ ] 6.2 实现Markdown工具栏
    - 添加格式化按钮（粗体、斜体、标题、列表、链接、图片）
    - 实现工具栏操作插入文本
    - _需求: 3.4_


  - [ ] 6.3 实现滚动同步功能
    - 监听编辑器和预览面板的滚动事件
    - 计算并同步滚动位置
    - _需求: 3.5_

  - [ ]* 6.4 编写Markdown渲染属性测试
    - **属性4: Markdown渲染正确性**
    - **验证: 需求 3.2, 3.3**

- [x] 7. 检查点 - 确保所有测试通过

  - 确保所有测试通过，如有问题请询问用户。

- [x] 8. PDF预览实现


  - [x] 8.1 创建PdfPreview组件


    - 集成PDF.js
    - 实现PDF文档渲染
    - 添加加载指示器
    - _需求: 5.1, 5.4_

  - [x] 8.2 实现PDF控制功能

    - 添加缩放控件（放大、缩小、适应宽度）
    - 实现页面导航（上一页、下一页、跳转）
    - 显示当前页码和总页数
    - _需求: 5.2, 5.3_

- [x] 9. 右键菜单和文件操作



  - [x] 9.1 创建ContextMenu组件

    - 实现右键菜单显示/隐藏
    - 支持菜单项配置（图标、标签、分隔线）
    - 处理点击外部关闭
    - _需求: 6.1_


  - [x] 9.2 实现文件操作功能

    - 集成重命名功能（内联编辑）
    - 集成删除功能（确认对话框）
    - 在TreeView和DirectoryView中添加右键菜单
    - _需求: 6.2, 6.3_

  - [ ]* 9.3 编写上下文菜单属性测试
    - **属性6: 上下文菜单触发一致性**
    - **验证: 需求 6.1**

- [x] 10. 拖拽功能实现


  - [x] 10.1 实现文件拖拽移动


    - 在FileCard和TreeNode上添加draggable
    - 实现拖拽视觉反馈
    - 处理drop事件调用移动API
    - _需求: 6.4_

- [x] 11. 组件集成和状态管理


  - [x] 11.1 更新App.vue集成所有新组件


    - 根据选中项类型切换DirectoryView/FilePreview/FileEditor
    - 集成MarkdownEditor和CodeEditor
    - 处理编辑器类型自动选择
    - _需求: 2.1, 2.3, 3.1, 4.1_

  - [x] 11.2 更新FilePreview组件

    - 集成新的PdfPreview组件
    - 更新预览类型判断逻辑
    - _需求: 5.1_

- [x] 12. UI细节优化


  - [x] 12.1 添加动画和过渡效果


    - 侧边栏展开/折叠动画
    - 文件卡片hover效果
    - 对话框淡入淡出
    - _需求: 1.2_


  - [ ] 12.2 优化触摸目标尺寸
    - 确保所有可交互元素最小44px
    - 优化移动端按钮和链接尺寸
    - _需求: 7.4_

  - [ ]* 12.3 编写触摸目标尺寸属性测试
    - **属性8: 触摸目标尺寸**

    - **验证: 需求 7.4**

- [x] 13. 最终检查点 - 确保所有测试通过

  - 确保所有测试通过，如有问题请询问用户。
